#!/usr/bin/env node

/*
* Serverless Framework 2 – Command Line Interface
*/

const args = require('minimist')(process.argv.slice(2))
const serverless = require('../src')

// Set config from CLI input
const config = {}
config.stage = (args.s || args.stage) ? (args.s || args.stage) : 'dev'
config.instance = args._[1] || null
config.method = args._[0] || null
config.verbose = (args.v || args.verbose) ? (args.v || args.verbose) : false
config.debug = (args.d || args.debug) ? (args.d || args.debug) : false

// Run
;(async () => { return serverless.run(config) })()
.catch((e) => console.log(e.stack))
